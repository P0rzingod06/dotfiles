<?xml version="1.0"?>
<ProcessingGroup 
	name="IB850_VERIZON-078495930_078495930" 
	parent="IB850_OTOS_Standard"
	priority="1"
	errorAlertThreshold = "1"
	ruleApplicationSource = "EDI"
	testPartnerID = "078495930T">	

<!-- IB850_VERIZON-078495930_078495930 -->
<!-- CVS Header: $Source: /CVS/oracle11i/applint/rules_config/edi/IB850_VERIZON_078495930_078495930.xml,v $, $Revision: 1.3 $, $Author: gassertm $, $Date: 2015/03/03 22:46:28 $ -->
<!-- ******************************** -->
<!-- ****** BEGIN HEADER ************ -->
<!-- ******************************** -->
<!-- HEADER DEFAULTS -->
<Rule name="Overwrite Header Defaults" class="HEADER" executeOnReprocess="N">
	<ConditionSet name="Overwrite Header Level Defaults" exitOnSuccess="Y">	
		<Action name="Set temp/SHIPPING_INSTRUCTIONS" class="handleMultipleElementSegment">
			<Parameter name="pathMask" valueType="STATIC">REF[L1:#]:REF03</Parameter>
			<Parameter name="concatenateValues" valueType="STATIC">true</Parameter>
			<Parameter name="targetElement" valueType="TARGET">temp/SHIPPING_INSTRUCTIONS</Parameter>
			<ExceptionHandler type="NONE"></ExceptionHandler>	
		</Action>
		<Action name="Set SHIPPING_INSTRUCTIONS" class="genericParseString">
			<Parameter name="sourceElement" valueType="REFERENCE">temp/SHIPPING_INSTRUCTIONS</Parameter>
			<Parameter name="length" valueType="STATIC">2000</Parameter>
			<Parameter name="trim" valueType="STATIC">true</Parameter>
			<Parameter name="targetElement" valueType="TARGET">SHIPPING_INSTRUCTIONS</Parameter>
			<ExceptionHandler type="NONE"></ExceptionHandler>
  		</Action>
		<Action name="Set QUOTE_INSTRUCTIONS" class="genericParseString">
			<Parameter name="sourceElement" valueType="REFERENCE">temp/SHIPPING_INSTRUCTIONS</Parameter>
			<Parameter name="length" valueType="STATIC">30000</Parameter>
			<Parameter name="trim" valueType="STATIC">true</Parameter>
			<Parameter name="targetElement" valueType="TARGET">QUOTE_INSTRUCTIONS</Parameter>
			<ExceptionHandler type="NONE"></ExceptionHandler>
  		</Action>
		<Action name="Set ORDERED_BY_CONTACT_LAST_NAME" class="genericTokenize">
			<Parameter name="sourceElement" valueType="REFERENCE">PER[:1]:PER02</Parameter>
			<Parameter name="targetElement" valueType="TARGET">ORDERED_BY_CONTACT_LAST_NAME</Parameter>
			<Parameter name="delimiter" valueType="STATIC"> </Parameter>
			<Parameter name="index" valueType="STATIC">1</Parameter>
			<ExceptionHandler type="NONE"></ExceptionHandler>	
		</Action>
		<Action name="Set ORDERED_BY_CONTACT_FIRST_NAME" class="genericTokenize">
			<Parameter name="sourceElement" valueType="REFERENCE">PER[:1]:PER02</Parameter>
			<Parameter name="targetElement" valueType="TARGET">ORDERED_BY_CONTACT_FIRST_NAME</Parameter>
			<Parameter name="delimiter" valueType="STATIC"> </Parameter>
			<Parameter name="index" valueType="STATIC">0</Parameter>
			<ExceptionHandler type="NONE"></ExceptionHandler>	
		</Action>
		<Action name="Set ORDERED_BY_CONTACT_TELEPHONE" class="genericAssignment">
			<Parameter name="sourceElement" valueType="REFERENCE">PER[:1]:PER04</Parameter>
			<Parameter name="targetElement" valueType="TARGET">ORDERED_BY_CONTACT_TELEPHONE</Parameter>
			<ExceptionHandler type="NONE"></ExceptionHandler>
  		</Action>
		<Action name="Set SALESREP" class="genericAssignment">
			<Parameter name="sourceElement" valueType="STATIC">Verizon(GTE)-Fujitsu</Parameter>
			<Parameter name="targetElement" valueType="TARGET">SALESREP</Parameter>
			<ExceptionHandler type="NONE"></ExceptionHandler>	
		</Action>
		<Action name="Set SHIP_TO_ADDRESS1" class="genericAssignment">
			<Parameter name="sourceElement" valueType="REFERENCE">N1[ST]:N102</Parameter>
			<Parameter name="targetElement" valueType="TARGET">SHIP_TO_ADDRESS1</Parameter>
			<ExceptionHandler type="NONE"></ExceptionHandler>
  		</Action>
		<Action name="Set SHIP_TO_ADDRESS2" class="genericAssignment">
			<Parameter name="sourceElement" valueType="REFERENCE">N1[ST]:N2[1]:N201</Parameter>
			<Parameter name="targetElement" valueType="TARGET">SHIP_TO_ADDRESS2</Parameter>
			<ExceptionHandler type="NONE"></ExceptionHandler>
  		</Action>
		<Action name="Set SHIP_TO_ADDRESS3" class="genericAssignment">
			<Parameter name="sourceElement" valueType="REFERENCE">N1[ST]:N3[1]:N301</Parameter>
			<Parameter name="targetElement" valueType="TARGET">SHIP_TO_ADDRESS3</Parameter>
			<ExceptionHandler type="NONE"></ExceptionHandler>
  		</Action>
		<Action name="Set SHIP_TO_ADDRESS4" class="genericAssignment">
			<Parameter name="sourceElement" valueType="REFERENCE">N1[ST]:N3[1]:N302</Parameter>
			<Parameter name="targetElement" valueType="TARGET">SHIP_TO_ADDRESS4</Parameter>
			<ExceptionHandler type="NONE"></ExceptionHandler>
  		</Action>
		<Action name="Set WWT_ATTRIBUTE26" class="genericAssignment">
			<Parameter name="sourceElement" valueType="REFERENCE">N1[BT]:N104</Parameter>
			<Parameter name="targetElement" valueType="TARGET">WWT_ATTRIBUTE26</Parameter>
			<ExceptionHandler type="NONE"></ExceptionHandler>
  		</Action>
	</ConditionSet>
</Rule>

<Rule name="Set WWT_ATTRIBUTE49 to Y, if QUOTE exists for QUOTE1" class="HEADER" executeOnReprocess="N">
	<ConditionSet name="If QUOTE exists" exitOnSuccess="Y">
		<Condition>
			<LHSValue>QUOTE_INSTRUCTIONS</LHSValue>
			<Operator>RLIKE</Operator>
            <RHSValue valueType="STATIC">quote</RHSValue>
		</Condition>
		<Action name="Set WWT_ATTRIBUTE49 = Y" class="genericAssignment">
			<Parameter name="sourceElement" valueType="STATIC">Y</Parameter>
			<Parameter name="targetElement" valueType="TARGET">WWT_ATTRIBUTE49</Parameter>
			<ExceptionHandler type="NONE"></ExceptionHandler>
  		</Action>
	</ConditionSet>
<!-- 	<ConditionSet name="Else if quote exists" exitOnSuccess="Y">
		<Condition>
			<LHSValue>QUOTE_INSTRUCTIONS</LHSValue>
			<Operator>LIKE</Operator>
            <RHSValue valueType="STATIC">%quote%</RHSValue>
		</Condition>
		<Action name="Set WWT_ATTRIBUTE49 = Y" class="genericAssignment">
			<Parameter name="sourceElement" valueType="STATIC">Y</Parameter>
			<Parameter name="targetElement" valueType="TARGET">WWT_ATTRIBUTE49</Parameter>
			<ExceptionHandler type="NONE"></ExceptionHandler>
  		</Action>
	</ConditionSet>
	<ConditionSet name="Else if Quote exists" exitOnSuccess="Y">
		<Condition>
			<LHSValue>QUOTE_INSTRUCTIONS</LHSValue>
			<Operator>LIKE</Operator>
            <RHSValue valueType="STATIC">%Quote%</RHSValue>
		</Condition>
		<Action name="Set WWT_ATTRIBUTE49 = Y" class="genericAssignment">
			<Parameter name="sourceElement" valueType="STATIC">Y</Parameter>
			<Parameter name="targetElement" valueType="TARGET">WWT_ATTRIBUTE49</Parameter>
			<ExceptionHandler type="NONE"></ExceptionHandler>
  		</Action>
	</ConditionSet> -->
</Rule>

<!-- ******************************** -->
<!-- ****** BEGIN LINES ************ -->
<!-- ******************************** -->
<Rule name="Set Partner Specific Line Values" class="LINE" executeOnReprocess="N">
	<ConditionSet name="Set Partner Specific Line Values" exitOnSuccess="Y">
		<Action name="Set Header REQUEST_DATE from DTM 002" class="genericDateFormat">
			<Parameter name="sourceElement" valueType="REFERENCE">Lines/DTM[002]:DTM02</Parameter>
			<Parameter name="targetElement" valueType="TARGET">REQUEST_DATE</Parameter>
			<Parameter name="currentPattern" valueType="STATIC">MM/dd/yyyy</Parameter>
			<Parameter name="newPattern" valueType="STATIC">dd-MMM-yyyy</Parameter>
			<ExceptionHandler type="NONE"></ExceptionHandler>	
		</Action>
		<Action name="Set Header REQUEST_DATE from DTM 010" class="genericDateFormat">
			<Parameter name="sourceElement" valueType="REFERENCE">Lines/DTM[010]:DTM02</Parameter>
			<Parameter name="targetElement" valueType="TARGET">REQUEST_DATE</Parameter>
			<Parameter name="currentPattern" valueType="STATIC">MM/dd/yyyy</Parameter>
			<Parameter name="newPattern" valueType="STATIC">dd-MMM-yyyy</Parameter>
			<ExceptionHandler type="NONE"></ExceptionHandler>	
		</Action>
		<Action name="Set ORDER_QUANTITY_UOM" class="genericAssignment">
			<Parameter name="sourceElement" valueType="REFERENCE">Lines/PO1:PO105:code</Parameter>
			<Parameter name="targetElement" valueType="TARGET">Lines/ORDER_QUANTITY_UOM</Parameter>
			<ExceptionHandler type="NONE"></ExceptionHandler>	
		</Action>
		<Action name="Set ATTRIBUTE6" class="genericAssignment">
			<Parameter name="sourceElement" valueType="REFERENCE">Lines/PO1:PO109</Parameter>
			<Parameter name="targetElement" valueType="TARGET">Lines/ATTRIBUTE6</Parameter>
			<ExceptionHandler type="NONE"></ExceptionHandler>	
		</Action>
		<Action name="Set ATTRIBUTE8" class="numericFormat">
			<Parameter name="sourceElement" valueType="REFERENCE">Lines/PO1:PO104</Parameter>
			<Parameter name="targetElement" valueType="TARGET">Lines/ATTRIBUTE8</Parameter>
			<Parameter name="formatPattern" valueType="STATIC">##.#########</Parameter>
			<ExceptionHandler type="NONE"></ExceptionHandler>	
		</Action>
		<Action name="Set INVENTORY_ITEM_SEGMENT_2" class="genericAssignment">
			<Parameter name="sourceElement" valueType="REFERENCE">Lines/PO1:PO109</Parameter>
			<Parameter name="targetElement" valueType="TARGET">Lines/INVENTORY_ITEM_SEGMENT_2</Parameter>
			<ExceptionHandler type="NONE"></ExceptionHandler>	
		</Action>
		<Action name="Set Lines REQUEST_DATE Format DTM 002" class="genericDateFormat">
			<Parameter name="sourceElement" valueType="REFERENCE">Lines/DTM[002]:DTM02</Parameter>
			<Parameter name="targetElement" valueType="TARGET">Lines/REQUEST_DATE</Parameter>
			<Parameter name="currentPattern" valueType="STATIC">MM/dd/yyyy</Parameter>
			<Parameter name="newPattern" valueType="STATIC">dd-MMM-yyyy</Parameter>
			<ExceptionHandler type="NONE"></ExceptionHandler>	
		</Action>
		<Action name="Set Lines REQUEST_DATE Format DTM 010" class="genericDateFormat">
			<Parameter name="sourceElement" valueType="REFERENCE">Lines/DTM[010]:DTM02</Parameter>
			<Parameter name="targetElement" valueType="TARGET">Lines/REQUEST_DATE</Parameter>
			<Parameter name="currentPattern" valueType="STATIC">MM/dd/yyyy</Parameter>
			<Parameter name="newPattern" valueType="STATIC">dd-MMM-yyyy</Parameter>
			<ExceptionHandler type="NONE"></ExceptionHandler>	
		</Action>
	</ConditionSet>
</Rule>

<Rule name="Set Lines/REQUEST_DATE to SCH06" class="LINE" executeOnReprocess="N">
	<ConditionSet name="If Lines/SCH[:1]:SCH05:code equal 002" exitOnSuccess="Y">
		<Condition>
			<LHSValue>Lines/SCH[:1]:SCH05:code</LHSValue>
			<Operator>=</Operator>
                        <RHSValue valueType="STATIC">002</RHSValue>
		</Condition>
		<Action name="Set Header REQUEST_DATE Format from SCH" class="genericDateFormat">
			<Parameter name="sourceElement" valueType="REFERENCE">Lines/SCH[:1]:SCH06</Parameter>
			<Parameter name="targetElement" valueType="TARGET">REQUEST_DATE</Parameter>
			<Parameter name="currentPattern" valueType="STATIC">MM/dd/yyyy</Parameter>
			<Parameter name="newPattern" valueType="STATIC">dd-MMM-yyyy</Parameter>
			<ExceptionHandler type="NONE"></ExceptionHandler>	
		</Action>
		<Action name="Set Lines REQUEST_DATE Format from SCH" class="genericDateFormat">
			<Parameter name="sourceElement" valueType="REFERENCE">Lines/SCH[:1]:SCH06</Parameter>
			<Parameter name="targetElement" valueType="TARGET">Lines/REQUEST_DATE</Parameter>
			<Parameter name="currentPattern" valueType="STATIC">MM/dd/yyyy</Parameter>
			<Parameter name="newPattern" valueType="STATIC">dd-MMM-yyyy</Parameter>
			<ExceptionHandler type="NONE"></ExceptionHandler>	
		</Action>
	</ConditionSet>
</Rule>

</ProcessingGroup>
